<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <title>Теория языков программирования и методы трансляции</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/languages/go.min.js"></script>
    <script>hljs.highlightAll();</script>
</head>
<body>
<h1 class="title">RegExp</h1>
<div class="data">
<div class="fio">
    <p>ФИО студента:</p>
    <p>Белошапка Н.Г.</p>
    <p>Преподаватель:</p>
    <p>Романенко В.В</p>
</div>
<div class="example">
    <p>Теория языков программирования и методы трансляции</p>
    <p>Лабораторная работа №1</p>
    <p>Вариант №3</p>
</div>
</div>
<div class="inputBlock">
    <input type="text" size="80">
    <input type="button" onclick="regExp()" value="Проверить">
    <input type="button" onclick="clearAreas()" value="Сбросить">
</div>

<div class="outputBlock">
    <div class="userText">Вы ввели</div>
    <div class="result">Результат</div>
</div>

<div class="code">Код программы</div>
<pre><code class="language-js">


        function regExp(){
        let inputText = document.getElementsByTagName("input")[0];
                let textVal = inputText.value;
        console.log(textVal)
        if (textVal !== ""){



            let str = textVal
            //"const t = 0;"
            let result = str.match(/(let|const)\s(\D\w*|(?<err>.*))\s=\s\d*/)
            if (result == null){
                console.log(`ошибка в первой позиции`)
                document.getElementsByClassName('result')[0].innerHTML = "ошибка в первой позиции"
                return false

            }
            let groups = str.match(/(let|const)\s(\D\w*|(?<err>.*))\s=\s\d*/).groups;

            console.log(result)
            console.log(groups.err)
            console.log(str.length)

            let arrayOfError = []
            if(groups.err !== undefined){
                for (let i = 0; i < str.length; i++){
                    console.log(str[i])
                    if (str[i] == groups.err[0]){
                        for (let j = 0, c = i; j < groups.err.length; j++, c++){
                            if (str[c] == groups.err[j] && arrayOfError.length !== groups.err.length){
                                arrayOfError.push(c)
                                console.log(`ошибка найдена в позиции ${c}`)
                            }
                        }
                    }
                }
            }

            console.log(arrayOfError)
            if (arrayOfError.length > 0){
                console.log(`ошибка найдена в позиции ${arrayOfError[0]}`)
                document.getElementsByClassName('result')[0].innerHTML = `ошибка найдена в позиции ${arrayOfError[0]}`
            } else {
                console.log(`ошибок не найдено`)
                document.getElementsByClassName('result')[0].innerHTML = "ошибок не найдено"
            }









            inputText.value = ""

            document.getElementsByClassName('userText')[0].innerHTML = textVal
        }
    }



    </code></pre>

<script type="text/javascript">

    function clearAreas(){
        document.getElementsByClassName('userText')[0].innerHTML = "Вы ввели"
        document.getElementsByClassName('result')[0].innerHTML = "Результат"
        document.getElementsByClassName('code')[0].innerHTML = "Код программы"
        document.getElementsByTagName("input")[0].value = ""
    }

    function regExp(){
        let inputText = document.getElementsByTagName("input")[0];
                let textVal = inputText.value;
        console.log(textVal)
        if (textVal !== ""){



            let str = textVal
            //"const t = 0;"
            let result = str.match(/(let|const)\s(\D\w*|(?<err>.*))\s=\s\d*/)
            if (result == null){
                console.log(`ошибка в первой позиции`)
                document.getElementsByClassName('result')[0].innerHTML = "ошибка в первой позиции"
                return false

            }
            let groups = str.match(/(let|const)\s(\D\w*|(?<err>.*))\s=\s\d*/).groups;

            console.log(result)
            console.log(groups.err)
            console.log(str.length)

            let arrayOfError = []
            if(groups.err !== undefined){
                for (let i = 0; i < str.length; i++){
                    console.log(str[i])
                    if (str[i] == groups.err[0]){
                        for (let j = 0, c = i; j < groups.err.length; j++, c++){
                            if (str[c] == groups.err[j] && arrayOfError.length !== groups.err.length){
                                arrayOfError.push(c)
                                console.log(`ошибка найдена в позиции ${c}`)
                            }
                        }
                    }
                }
            }

            console.log(arrayOfError)
            if (arrayOfError.length > 0){
                console.log(`ошибка найдена в позиции ${arrayOfError[0]}`)
                document.getElementsByClassName('result')[0].innerHTML = `ошибка найдена в позиции ${arrayOfError[0]}`
            } else {
                console.log(`ошибок не найдено`)
                document.getElementsByClassName('result')[0].innerHTML = "ошибок не найдено"
            }









            inputText.value = ""

            document.getElementsByClassName('userText')[0].innerHTML = textVal
        }
    }

</script>
</body>
</html>